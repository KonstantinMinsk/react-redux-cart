{"ast":null,"code":"import _slicedToArray from\"/Users/quonnbernard/REDUX-CART/react-redux-cart/react-cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import useCustomForm from\"../hooks/useCustomForm\";import Fade from\"react-reveal/Fade\";import{connect,useDispatch}from\"react-redux\";import{removeFromCart,addToCart,removeAnItemFromCart}from\"../redux/actions/cartActions\";import{Button}from\"react-bootstrap\";import{AiFillMinusCircle}from\"react-icons/ai\";import{TiArrowSortedDown,TiArrowSortedUp}from\"react-icons/ti\";var Cart=function Cart(_ref){var cartItems=_ref.cartItems,createOrder=_ref.createOrder,count=_ref.count;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showCheckout=_useState2[0],setShowCheckout=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),cartCount=_useState4[0],setCartCount=_useState4[1];useEffect(function(){setCartCount(cartItems.length);},[cartItems.length]);var initialValues={email:\"\",name:\"\",address:0};var _useCustomForm=useCustomForm({initialValues:initialValues}),values=_useCustomForm.values,handleChange=_useCustomForm.handleChange,handleSubmit=_useCustomForm.handleSubmit;var addOrder=function addOrder(e){var order={email:values.email,name:values.name,address:values.address,cartItems:cartItems};createOrder(order);handleSubmit(e);};var add=function add(item){dispatch(addToCart(item));};var removeItem=function removeItem(item){dispatch(removeFromCart(item));};var removeSingleItem=function removeSingleItem(item){dispatch(removeAnItemFromCart(item));console.log(cartCount);};var showForm=function showForm(){setShowCheckout(function(prevState){return!prevState;});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Fade,{right:true,cascade:true},\" \",/*#__PURE__*/React.createElement(\"ul\",{className:\"cart list-unstyled p-3\"},\" \",/*#__PURE__*/React.createElement(\"h1\",{className:\"pb-0 mb-0 text-center font-weight-bold text-success\"},\"$\",cartItems.reduce(function(a,c){return a+c.price*c.count;},0)),/*#__PURE__*/React.createElement(\"hr\",null),cartItems.map(function(item){return item.count>0&&/*#__PURE__*/React.createElement(\"li\",{key:item._id},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-col\"},/*#__PURE__*/React.createElement(\"img\",{alt:item.title,src:item.image}),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",width:\"100%\"},className:\"text-white jusify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline col-11\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"mb-0 pb-0\"},/*#__PURE__*/React.createElement(\"strong\",null,item.title)),/*#__PURE__*/React.createElement(\"p\",null,\" X \",item.count,\" = \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-success\"},\"$\",item.count*item.price),\" \")),/*#__PURE__*/React.createElement(\"div\",{style:{height:\"50px\",maxWidth:\"21px\"},className:\"border\"},/*#__PURE__*/React.createElement(TiArrowSortedUp,{onClick:function onClick(){return add(item);},size:\"1.5rem\",className:\"pr-1 mb-0 pb-0 d-block\",color:\"#28a745\"}),/*#__PURE__*/React.createElement(TiArrowSortedDown,{onClick:function onClick(){return removeSingleItem(item);},size:\"1.5rem\",className:\"pr-1 mt-0 pt-0\",color:\"#28a745\"})))),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return removeItem(item);},className:\"border btn-dark btn-sm btn-block mb-3\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(AiFillMinusCircle,{color:\"red\",className:\"pr-2\",size:\"1.5rem\"}),\"REMOVE ITEM\")));}),count<1&&/*#__PURE__*/React.createElement(\"h3\",{className:\"text-danger h4 d-block text-center\"},\"CART IS EMPTY\"),showCheckout&&cartItems.length>0&&/*#__PURE__*/React.createElement(Fade,{right:true,cascade:true},/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return addOrder(e);}},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",placeholder:\"Enter Email\",name:\"email\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Enter Name\",name:\"name\",required:true,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",className:\"btn btn-block btn-dark\"},/*#__PURE__*/React.createElement(\"small\",null,\"CHECKOUT\")))),/*#__PURE__*/React.createElement(\"hr\",{className:\"mt-0 pt-0\"}),count>0&&/*#__PURE__*/React.createElement(Button,{className:\"btn btn-block btn-success checkoutbtn\",onClick:function onClick(){return showForm();}},showCheckout?\"Continue Shopping\":\"CHECKOUT\"))));};export default connect(function(state){return{cartItems:state.cart.cartItems};},{removeFromCart:removeFromCart,addToCart:addToCart,removeAnItemFromCart:removeAnItemFromCart})(Cart);","map":{"version":3,"sources":["/Users/quonnbernard/REDUX-CART/react-redux-cart/react-cart/src/components/Cart.js"],"names":["React","useState","useEffect","useCustomForm","Fade","connect","useDispatch","removeFromCart","addToCart","removeAnItemFromCart","Button","AiFillMinusCircle","TiArrowSortedDown","TiArrowSortedUp","Cart","cartItems","createOrder","count","dispatch","showCheckout","setShowCheckout","cartCount","setCartCount","length","initialValues","email","name","address","values","handleChange","handleSubmit","addOrder","e","order","add","item","removeItem","removeSingleItem","console","log","showForm","prevState","reduce","a","c","price","map","_id","title","image","display","width","height","maxWidth","state","cart"],"mappings":"iLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,aAAP,KAA0B,wBAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,OAASC,OAAT,CAAkBC,WAAlB,KAAqC,aAArC,CACA,OAASC,cAAT,CAAyBC,SAAzB,CAAoCC,oBAApC,KAAgE,8BAAhE,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,OAASC,iBAAT,KAAkC,gBAAlC,CACA,OAASC,iBAAT,CAA4BC,eAA5B,KAAmD,gBAAnD,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAuC,IAApCC,CAAAA,SAAoC,MAApCA,SAAoC,CAAzBC,WAAyB,MAAzBA,WAAyB,CAAZC,KAAY,MAAZA,KAAY,CAClD,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CADkD,cAEVL,QAAQ,CAAC,KAAD,CAFE,wCAE3CkB,YAF2C,eAE7BC,eAF6B,8BAGhBnB,QAAQ,EAHQ,yCAG3CoB,SAH2C,eAGhCC,YAHgC,eAIlDpB,SAAS,CAAC,UAAI,CACZoB,YAAY,CAACP,SAAS,CAACQ,MAAX,CAAZ,CACD,CAFQ,CAEP,CAACR,SAAS,CAACQ,MAAX,CAFO,CAAT,CAGA,GAAMC,CAAAA,aAAa,CAAG,CACpBC,KAAK,CAAE,EADa,CAEpBC,IAAI,CAAE,EAFc,CAGpBC,OAAO,CAAE,CAHW,CAAtB,CAPkD,mBAYHxB,aAAa,CAAC,CAC3DqB,aAAa,CAAbA,aAD2D,CAAD,CAZV,CAY1CI,MAZ0C,gBAY1CA,MAZ0C,CAYlCC,YAZkC,gBAYlCA,YAZkC,CAYpBC,YAZoB,gBAYpBA,YAZoB,CAelD,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACtB,GAAIC,CAAAA,KAAK,CAAG,CACVR,KAAK,CAAEG,MAAM,CAACH,KADJ,CAEVC,IAAI,CAAEE,MAAM,CAACF,IAFH,CAGVC,OAAO,CAAEC,MAAM,CAACD,OAHN,CAIVZ,SAAS,CAAEA,SAJD,CAAZ,CAMAC,WAAW,CAACiB,KAAD,CAAX,CACAH,YAAY,CAACE,CAAD,CAAZ,CACD,CATD,CAWA,GAAME,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,CAACC,IAAD,CAAU,CACpBjB,QAAQ,CAACV,SAAS,CAAC2B,IAAD,CAAV,CAAR,CACD,CAFD,CAIA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACD,IAAD,CAAU,CAC3BjB,QAAQ,CAACX,cAAc,CAAC4B,IAAD,CAAf,CAAR,CACD,CAFD,CAIA,GAAME,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACF,IAAD,CAAU,CACjCjB,QAAQ,CAACT,oBAAoB,CAAC0B,IAAD,CAArB,CAAR,CACAG,OAAO,CAACC,GAAR,CAAYlB,SAAZ,EACD,CAHD,CAKA,GAAMmB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBpB,eAAe,CAAC,SAACqB,SAAD,QAAe,CAACA,SAAhB,EAAD,CAAf,CACD,CAFD,CAIA,mBACE,4CACE,oBAAC,IAAD,EAAM,KAAK,KAAX,CAAY,OAAO,KAAnB,EACG,GADH,cAEE,0BAAI,SAAS,CAAC,wBAAd,EACK,GADL,cAEI,0BAAI,SAAS,CAAC,qDAAd,MACI1B,SAAS,CAAC2B,MAAV,CAAiB,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAAGC,CAAC,CAACC,KAAF,CAAUD,CAAC,CAAC3B,KAA1B,EAAjB,CAAkD,CAAlD,CADJ,CAFJ,cAKE,8BALF,CAMIF,SAAS,CAAC+B,GAAV,CAAc,SAACX,IAAD,QACdA,CAAAA,IAAI,CAAClB,KAAL,CAAa,CAAb,eAAkB,0BAAI,GAAG,CAAEkB,IAAI,CAACY,GAAd,eAChB,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,GAAG,CAAEZ,IAAI,CAACa,KAAf,CAAsB,GAAG,CAAEb,IAAI,CAACc,KAAhC,EADF,cAEE,2BACE,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAmBC,KAAK,CAAE,MAA1B,CADT,CAEE,SAAS,CAAC,mCAFZ,eAIE,2BAAK,SAAS,CAAC,iBAAf,eACE,0BAAI,SAAS,CAAC,WAAd,eACE,kCAAShB,IAAI,CAACa,KAAd,CADF,CADF,cAIR,mCAAOb,IAAI,CAAClB,KAAZ,oBAAqB,4BAAM,SAAS,CAAC,cAAhB,MAAiCkB,IAAI,CAAClB,KAAL,CAAakB,IAAI,CAACU,KAAnD,CAArB,KAJQ,CAJF,cAUE,2BACE,KAAK,CAAE,CAAEO,MAAM,CAAE,MAAV,CAAkBC,QAAQ,CAAE,MAA5B,CADT,CAEE,SAAS,CAAC,QAFZ,eAIE,oBAAC,eAAD,EACA,OAAO,CAAE,yBAAMnB,CAAAA,GAAG,CAACC,IAAD,CAAT,EADT,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,wBAHZ,CAIE,KAAK,CAAC,SAJR,EAJF,cAUE,oBAAC,iBAAD,EACA,OAAO,CAAE,yBAAME,CAAAA,gBAAgB,CAACF,IAAD,CAAtB,EADT,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,gBAHZ,CAIE,KAAK,CAAC,SAJR,EAVF,CAVF,CAFF,CADgB,cAgChB,oBAAC,MAAD,EACE,OAAO,CAAE,yBAAMC,CAAAA,UAAU,CAACD,IAAD,CAAhB,EADX,CAEE,SAAS,CAAC,uCAFZ,eAIE,6CACE,oBAAC,iBAAD,EACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,MAFZ,CAGE,IAAI,CAAC,QAHP,EADF,eAJF,CAhCgB,CADJ,EAAd,CANJ,CAsDElB,KAAK,CAAG,CAAR,eAAa,0BAAI,SAAS,CAAC,oCAAd,kBAtDf,CAuDGE,YAAY,EAAIJ,SAAS,CAACQ,MAAV,CAAmB,CAAnC,eACC,oBAAC,IAAD,EAAM,KAAK,KAAX,CAAY,OAAO,KAAnB,eACE,8BADF,cAEE,4BAAM,QAAQ,CAAE,kBAACS,CAAD,QAAOD,CAAAA,QAAQ,CAACC,CAAD,CAAf,EAAhB,eACE,6BACE,IAAI,CAAC,OADP,CAEE,WAAW,CAAC,aAFd,CAGE,IAAI,CAAC,OAHP,CAIE,QAAQ,CAAE,kBAACA,CAAD,QAAOH,CAAAA,YAAY,CAACG,CAAD,CAAnB,EAJZ,EADF,cAOE,6BACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,YAFd,CAGE,IAAI,CAAC,MAHP,CAIE,QAAQ,KAJV,CAKE,QAAQ,CAAE,kBAACA,CAAD,QAAOH,CAAAA,YAAY,CAACG,CAAD,CAAnB,EALZ,EAPF,cAcE,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,wBAAhC,eACE,4CADF,CAdF,CAFF,CAxDJ,cA8EE,0BAAI,SAAS,CAAC,WAAd,EA9EF,CA+EGf,KAAK,CAAG,CAAR,eACC,oBAAC,MAAD,EACE,SAAS,CAAC,uCADZ,CAEE,OAAO,CAAE,yBAAMuB,CAAAA,QAAQ,EAAd,EAFX,EAIGrB,YAAY,CAAG,mBAAH,CAAyB,UAJxC,CAhFJ,CAFF,CADF,CADF,CA+FD,CA1ID,CA4IA,cAAed,CAAAA,OAAO,CACpB,SAACiD,KAAD,QAAY,CACVvC,SAAS,CAAEuC,KAAK,CAACC,IAAN,CAAWxC,SADZ,CAAZ,EADoB,CAIpB,CAAER,cAAc,CAAdA,cAAF,CAAkBC,SAAS,CAATA,SAAlB,CAA6BC,oBAAoB,CAApBA,oBAA7B,CAJoB,CAAP,CAKbK,IALa,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport useCustomForm from \"../hooks/useCustomForm\";\nimport Fade from \"react-reveal/Fade\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { removeFromCart, addToCart, removeAnItemFromCart } from \"../redux/actions/cartActions\";\nimport { Button } from \"react-bootstrap\";\nimport { AiFillMinusCircle } from \"react-icons/ai\";\nimport { TiArrowSortedDown, TiArrowSortedUp } from \"react-icons/ti\";\n\nconst Cart = ({ cartItems, createOrder, count }) => {\n  const dispatch = useDispatch();\n  const [showCheckout, setShowCheckout] = useState(false);\n  const [cartCount, setCartCount] = useState();\n  useEffect(()=>{\n    setCartCount(cartItems.length)\n  },[cartItems.length])\n  const initialValues = {\n    email: \"\",\n    name: \"\",\n    address: 0,\n  };\n  const { values, handleChange, handleSubmit } = useCustomForm({\n    initialValues,\n  });\n  const addOrder = (e) => {\n    let order = {\n      email: values.email,\n      name: values.name,\n      address: values.address,\n      cartItems: cartItems,\n    };\n    createOrder(order);\n    handleSubmit(e);\n  };\n\n  const add = (item) => {\n    dispatch(addToCart(item));\n  };\n\n  const removeItem = (item) => {\n    dispatch(removeFromCart(item));\n  };\n\n  const removeSingleItem = (item) => {\n    dispatch(removeAnItemFromCart(item));\n    console.log(cartCount)\n  }; \n\n  const showForm = () => {\n    setShowCheckout((prevState) => !prevState);\n  };\n\n  return (\n    <div>\n      <Fade right cascade>\n        {\" \"}\n        <ul className=\"cart list-unstyled p-3\">\n            {\" \"}\n            <h1 className=\"pb-0 mb-0 text-center font-weight-bold text-success\">\n              ${cartItems.reduce((a, c) => a + c.price * c.count, 0)}\n            </h1>\n          <hr />\n          { cartItems.map((item) => (\n            item.count > 0 && <li key={item._id}>\n              <div className=\"d-flex flex-col\">\n                <img alt={item.title} src={item.image} />\n                <div\n                  style={{ display: \"flex\", width: \"100%\" }}\n                  className=\"text-white jusify-content-between\"\n                >\n                  <div className=\"d-inline col-11\">\n                    <h6 className=\"mb-0 pb-0\">\n                      <strong>{item.title}</strong>\n                    </h6>\n          <p> X {item.count} = <span className=\"text-success\">${item.count * item.price}</span> </p>\n                  </div>\n                  <div\n                    style={{ height: \"50px\", maxWidth: \"21px\" }}\n                    className=\"border\"\n                  >\n                    <TiArrowSortedUp\n                    onClick={() => add(item)}\n                      size=\"1.5rem\"\n                      className=\"pr-1 mb-0 pb-0 d-block\"\n                      color=\"#28a745\"\n                    />\n                    <TiArrowSortedDown\n                    onClick={() => removeSingleItem(item)}\n                      size=\"1.5rem\"\n                      className=\"pr-1 mt-0 pt-0\"\n                      color=\"#28a745\"\n                    />\n                  </div>\n                </div>\n              </div>\n              <Button\n                onClick={() => removeItem(item)}\n                className=\"border btn-dark btn-sm btn-block mb-3\"\n              >\n                <span>\n                  <AiFillMinusCircle\n                    color=\"red\"\n                    className=\"pr-2\"\n                    size=\"1.5rem\"\n                  />\n                  REMOVE ITEM\n                </span>\n              </Button>\n            </li>\n          ))} \n         {count < 1 && <h3 className=\"text-danger h4 d-block text-center\">CART IS EMPTY</h3>}\n          {showCheckout && cartItems.length > 0 && (\n            <Fade right cascade>\n              <hr />\n              <form onSubmit={(e) => addOrder(e)}>\n                <input\n                  type=\"email\"\n                  placeholder=\"Enter Email\"\n                  name=\"email\"\n                  onChange={(e) => handleChange(e)}\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"Enter Name\"\n                  name=\"name\"\n                  required\n                  onChange={(e) => handleChange(e)}\n                />\n                <Button type=\"submit\" className=\"btn btn-block btn-dark\">\n                  <small>CHECKOUT</small>\n                </Button>\n              </form>\n            </Fade>\n          )}\n          <hr className=\"mt-0 pt-0\" />\n          {count > 0 && (\n            <Button\n              className=\"btn btn-block btn-success checkoutbtn\"\n              onClick={() => showForm()}\n            >\n              {showCheckout ? \"Continue Shopping\" : \"CHECKOUT\"}\n            </Button>\n          )}\n        </ul>\n      </Fade>\n    </div>\n  );\n};\n\nexport default connect(\n  (state) => ({\n    cartItems: state.cart.cartItems,\n  }),\n  { removeFromCart, addToCart, removeAnItemFromCart }\n)(Cart);\n"]},"metadata":{},"sourceType":"module"}