{"ast":null,"code":"import _regeneratorRuntime from\"/Users/quonnbernard/REDUX-CART/react-redux-cart/react-cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/quonnbernard/REDUX-CART/react-redux-cart/react-cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{FETCH_PRODUCTS,FILTER_PRODUCTS_BY_SIZE,ORDER_PRODUCTS_BY_PRICE}from\"../types\";export var fetchProducts=function fetchProducts(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var result,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"data/data.json\");case 2:result=_context.sent;_context.next=5;return result.json();case 5:data=_context.sent;dispatch({type:FETCH_PRODUCTS,payload:data.products});case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var filterProducts=function filterProducts(products,size){return function(dispatch){console.log(\"filtering\");dispatch({type:FILTER_PRODUCTS_BY_SIZE,payload:{size:size,items:size===\"\"?products:products.filter(function(item){return item.availableSizes.indexOf(size)>=0;})}});};};export var sortProducts=function sortProducts(filteredProducts,sort){return function(dispatch){var sortedProducts=filteredProducts.slice();if(sort===\"latest\"){sortedProducts.sort(function(a,b){return a._id>b._id?1:-1;});}else{sortedProducts.sort(function(a,b){return sort===\"lowest\"?a.price>b.price?1:-1:a.price>b.price?-1:1;});}console.log(sortedProducts);dispatch({type:ORDER_PRODUCTS_BY_PRICE,payload:{sort:sort,items:sortedProducts}});};};","map":{"version":3,"sources":["/Users/quonnbernard/REDUX-CART/react-redux-cart/react-cart/src/redux/actions/productActions.js"],"names":["FETCH_PRODUCTS","FILTER_PRODUCTS_BY_SIZE","ORDER_PRODUCTS_BY_PRICE","fetchProducts","dispatch","fetch","result","json","data","type","payload","products","filterProducts","size","console","log","items","filter","item","availableSizes","indexOf","sortProducts","filteredProducts","sort","sortedProducts","slice","a","b","_id","price"],"mappings":"+VAAA,OACEA,cADF,CAEEC,uBAFF,CAGEC,uBAHF,KAIO,UAJP,CAMA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,kGAAM,iBAAOC,QAAP,wJACZC,CAAAA,KAAK,CAAC,gBAAD,CADO,QAC3BC,MAD2B,qCAEdA,CAAAA,MAAM,CAACC,IAAP,EAFc,QAE3BC,IAF2B,eAGjCJ,QAAQ,CAAC,CACPK,IAAI,CAAET,cADC,CAEPU,OAAO,CAAEF,IAAI,CAACG,QAFP,CAAD,CAAR,CAHiC,sDAAN,gEAAtB,CAQP,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACD,QAAD,CAAWE,IAAX,QAAoB,UAACT,QAAD,CAAc,CAC9DU,OAAO,CAACC,GAAR,CAAY,WAAZ,EACAX,QAAQ,CAAC,CACPK,IAAI,CAAER,uBADC,CAEPS,OAAO,CAAE,CACPG,IAAI,CAAEA,IADC,CAEPG,KAAK,CACHH,IAAI,GAAK,EAAT,CACIF,QADJ,CAEIA,QAAQ,CAACM,MAAT,CAAgB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,cAAL,CAAoBC,OAApB,CAA4BP,IAA5B,GAAqC,CAA/C,EAAhB,CALC,CAFF,CAAD,CAAR,CAUD,CAZ6B,EAAvB,CAcP,MAAO,IAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,gBAAD,CAAmBC,IAAnB,QAA4B,UAACnB,QAAD,CAAc,CACpE,GAAMoB,CAAAA,cAAc,CAAGF,gBAAgB,CAACG,KAAjB,EAAvB,CACA,GAAIF,IAAI,GAAK,QAAb,CAAuB,CACrBC,cAAc,CAACD,IAAf,CAAoB,SAACG,CAAD,CAAIC,CAAJ,QAAWD,CAAAA,CAAC,CAACE,GAAF,CAAQD,CAAC,CAACC,GAAV,CAAgB,CAAhB,CAAoB,CAAC,CAAhC,EAApB,EACD,CAFD,IAEO,CACLJ,cAAc,CAACD,IAAf,CAAoB,SAACG,CAAD,CAAIC,CAAJ,QAClBJ,CAAAA,IAAI,GAAK,QAAT,CACIG,CAAC,CAACG,KAAF,CAAUF,CAAC,CAACE,KAAZ,CACE,CADF,CAEE,CAAC,CAHP,CAIIH,CAAC,CAACG,KAAF,CAAUF,CAAC,CAACE,KAAZ,CACA,CAAC,CADD,CAEA,CAPc,EAApB,EASD,CACDf,OAAO,CAACC,GAAR,CAAYS,cAAZ,EACApB,QAAQ,CAAC,CACPK,IAAI,CAAEP,uBADC,CAEPQ,OAAO,CAAE,CACPa,IAAI,CAAEA,IADC,CAEPP,KAAK,CAAEQ,cAFA,CAFF,CAAD,CAAR,CAOD,CAvB2B,EAArB","sourcesContent":["import {\n  FETCH_PRODUCTS,\n  FILTER_PRODUCTS_BY_SIZE,\n  ORDER_PRODUCTS_BY_PRICE,\n} from \"../types\";\n\nexport const fetchProducts = () => async (dispatch) => {\n  const result = await fetch(\"data/data.json\");\n  const data = await result.json();\n  dispatch({\n    type: FETCH_PRODUCTS,\n    payload: data.products,\n  });\n};\nexport const filterProducts = (products, size) => (dispatch) => {\n  console.log(\"filtering\");\n  dispatch({\n    type: FILTER_PRODUCTS_BY_SIZE,\n    payload: {\n      size: size,\n      items:\n        size === \"\"\n          ? products\n          : products.filter((item) => item.availableSizes.indexOf(size) >= 0),\n    },\n  });\n};\n\nexport const sortProducts = (filteredProducts, sort) => (dispatch) => {\n  const sortedProducts = filteredProducts.slice();\n  if (sort === \"latest\") {\n    sortedProducts.sort((a, b) => (a._id > b._id ? 1 : -1));\n  } else {\n    sortedProducts.sort((a, b) =>\n      sort === \"lowest\"\n        ? a.price > b.price\n          ? 1\n          : -1\n        : a.price > b.price\n        ? -1\n        : 1\n    );\n  }\n  console.log(sortedProducts);\n  dispatch({\n    type: ORDER_PRODUCTS_BY_PRICE,\n    payload: {\n      sort: sort,\n      items: sortedProducts,\n    },\n  });\n};\n"]},"metadata":{},"sourceType":"module"}